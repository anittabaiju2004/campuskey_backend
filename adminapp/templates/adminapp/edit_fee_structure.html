{% extends 'adminapp/index.html' %}
{% block content %}

<h2>Edit Fee Structure</h2>
<hr>

<form method="POST">
    {% csrf_token %}

    <div class="mb-3">
        <label>Fee Name</label>
        <input type="text" name="name"
               value="{{ fee_structure.name }}"
               class="form-control" required>
    </div>

    <div class="mb-3">
        <label>Department</label>
        <select name="department" class="form-select" required>
            {% for dept in departments %}
                <option value="{{ dept.id }}"
                    {% if dept.id == fee_structure.department.id %}selected{% endif %}>
                    {{ dept.name }}
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label>Course</label>
        <select name="course" class="form-select" required>
            {% for course in courses %}
                <option value="{{ course.id }}"
                    {% if course.id == fee_structure.course.id %}selected{% endif %}>
                    {{ course.name }} ({{ course.department.name }})
                </option>
            {% endfor %}
        </select>
    </div>

    <div class="mb-3">
        <label>Amount</label>
        <input type="number" step="0.01"
               name="amount"
               value="{{ fee_structure.amount }}"
               class="form-control" required>
    </div>

    <div class="mb-3">
        <label>Description</label>
        <textarea name="description" class="form-control">{{ fee_structure.description }}</textarea>
    </div>

    <button class="btn btn-success">Update</button>
    <a href="{% url 'manage_fee_structure' %}" class="btn btn-secondary">Cancel</a>
</form>

{% endblock %}
